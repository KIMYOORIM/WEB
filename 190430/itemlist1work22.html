<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title></title>
</head>

<body>
  <input type="text" id="price">
  <input type="button" value="구매" id="buyBtn"> <br>
  <span id="result"></span>
</body>
<script src="http://code.jquery.com/jquery-latest.min.js"></script>
<script>
  $("#buyBtn").click(function() {

    $.ajax({
      url: `http://localhost/itemlist2?inputPrice=${$("#price").val()}`,
      data: {},
      success: function(res) {
        $("#result").html(res);
      }
    })
  });
</script>

</html>

<!--여기부터 app.js 코드 -->
<!-- app.get('/itemlist2', function (req, res) {
  var userPrice = Number(req.query.inputPrice);
  var priceTable = [{
      name: "item1",
      price: 1000
    }, {
      name: "item2",
      price: 5000
    },
    {
      name: "item3",
      price: 10000
    }, {
      name: "item4",
      price: 30000
    },
    {
      name: "item5",
      price: 50000
    }, {
      name: "item6",
      price: 100000
    }, {
      name: "item7",
      price: 500000
    }
  ];
  resText = "구매불가";
  for(var i=0;i<priceTable.length;i++) {
    if (priceTable[i].price <= userPrice) {
      resText = priceTable[i].name;
    }
  }
  res.send(resText);
});

app.get('/itemlist1', function (req, res) {
  res.sendfile("04.30/itemlist1.html");
}); -->
