<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title></title>
</head>

<body>
  이름 :
  <input type="text" id="name"><br>
  html :
  <input type="text" id="html"><br>
  javascript :
  <input type="text" id="javascript"><br>
  css :
  <input type="text" id="css"><br>
  nodejs :
  <input type="text" id="nodejs"><br>
  mysql :
  <input type="text" id="mysql"><br><br>
  <input type="button" value="성적입력" id="insert">
  <input type="button" value="초기화" id="clear"><br><br>
  <span id="nameList"></span><br><br>
  평균 : <span id="avgArea"></span><br>
  최고점자 <span id="bestScore"></span><br>
</body>
<script src="http://code.jquery.com/jquery-latest.min.js"></script>
<script>
  var htmlTotal = 0, javaTotal = 0, cssTotal = 0, nodeTotal = 0, sqlTotal = 0, cnt = 0, totalScore = 0;
  var bestAvg = 0;
  var bestName = "";

  $("#insert").click(function(){
    var name = $("#name").val();
    var html = Number($("#html").val());
    var javascript = Number($("#javascript").val());
    var css = Number($("#css").val());
    var nodejs = Number($("#nodejs").val());
    var mysql = Number($("#mysql").val());
    var avgScore = (html + javascript + css + nodejs + mysql) / 5;

    htmlTotal = htmlTotal + html
    javaTotal = javaTotal + javascript;
    cssTotal = cssTotal + css;
    nodeTotal = nodeTotal + nodejs;
    sqlTotal = sqlTotal + mysql;
    totalScore = totalScore + (avgScore * 5);
    cnt++;

    var appendText = `이름: ${name} / html: ${html}
      / javascript: ${javascript} / css: ${css} / nodejs: ${nodejs} / mysql: ${mysql} /
      ${name}평균: ${avgScore} <br>`;

    $("#nameList").append(appendText);

    var avgText = `html평균: ${htmlTotal/cnt}
      / javascript평균: ${javaTotal/cnt} / css평균: ${cssTotal/cnt} / nodejs평균: ${nodeTotal/cnt}
      / mysql평균: ${sqlTotal/cnt} / 전체평균: ${(totalScore/cnt)/5}`;

    $("#avgArea").html(avgText);

    if (cnt==1) {
      bestAvg = avgScore;
      $("#bestScore").html(`이름 : ${name} / 평균 : ${bestAvg}`);
    } else if (avgScore > bestAvg) {
      bestAvg = avgScore;
      $("#bestScore").html(`이름 : ${name} / 평균 : ${bestAvg}`);
    }

    $("#name").val("");
    $("#html").val("");
    $("#javascript").val("");
    $("#css").val("");
    $("#nodejs").val("");
    $("#mysql").val("");
    $("#name").focus();
  });

  $("#clear").click(function() {
    htmlTotal = 0;
    javaTotal = 0;
    cssTotal = 0;
    nodeTotal = 0;
    sqlTotal = 0;
    cnt = 0;

    $("#nameList").html("");
    $("#avgArea").html("");
    $("#bestScore").html("");

  });
</script>
</html>
